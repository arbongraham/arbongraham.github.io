<!DOCTYPE html>
<html>
<title>EPL Analysis</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<style>
body {font-family: "Times New Roman", Georgia, Serif;}
h1, h2, h3, h4, h5, h6 {
  font-family: "Playfair Display";
  letter-spacing: 5px;
}
</style>
<body>


<!-- Header -->
<header>
  <div class="w3-content" style="max-width:1100px">
    <center><h1 class="w3-xxlarge">ENGLISH PREMIER LEAGUE ANALYTICS</h1></center>
  </div>
</header>

<!-- Page content -->
<div class="w3-content" style="max-width:1100px">


  <div class="w3-row w3-padding-large">
    <p class="w3-large"><b>Hypothesis / Question:</b></p>
    <p class="w3-large">The teams that have won the Premier League since 2016 will rank at the highest of all these questions (Liverpool, Manchester City 2x, Chelsea, Leicester City). Will there be any outliers in the top 5 from each category?</p>
    <p class="w3-large"><b>Questions to answer the hypothesis / question:</b></p>
    <p class="w3-large">What teams in the premier league have the highest average SPI in their games across the data set?</p>
    <p class="w3-large">What teams in the premier league had the highest predicted goal total across the set? </p>
    <p class="w3-large">What were the actual total goals for those teams?</p>
    <p class="w3-large"><b>Why did I want to know this?</b></p>
    <p class="w3-large">The reason I wanted to analyze this is I have a personal interest in soccer and wanted to see how teams might compare across these statistics over a five year period. I specifically chose the Premier League as that is the league I'm most comfortable with. </p>
    <p class="w3-large"><b>What did I use to analyze the data?</b></p>
    <p class="w3-large">I used 'Numbers' in on Mac to sift through and sort the data I wanted to gather to get the information.</p>
    <p class="w3-large"><b>How did I do this?</b></p>
    <p class="w3-large">The data was obtained from <a href="https://projects.fivethirtyeight.com/soccer-predictions/">Five Thirty Eight</a> which has gathered data over the past five years and uses ESPN / Five Thirty EIght’s Soccer Power Index as a rating for the teams originally devised by Nate Silver. A link with more detail on how their data was gathered and projected made can be found <a href="https://fivethirtyeight.com/methodology/how-our-club-soccer-predictions-work/">here</a>.</p>
  </div>

  <div class="w3-col m6 w3-padding-large">
    <p class="w3-large">The first step was to download a data set, unfortunately this contained over 44,000 values that included scores from leagues all over the world. As is seen in those alone it contains data from leagues that I don't want so it became necessary to filter those out.</p>
    <p class="w3-large">The images on the right show the data sets with the first 10 items and last 10 items with the column I used for my initial filter highlighted. My following step was to narrow this down to only the premier league and I did this just by filtering by “league_id”. </p>
  </div>
    
  <div class="w3-col m6 w3-padding-large w3-hide-small">
    <img src="/FirstPage_01.png" class="w3-round w3-image w3-opacity-min" width="600" height="750">
  </div>
    
  <div class="w3-col m6 w3-padding-large w3-hide-small">
    <img src="/FirstPage_02.png" class="w3-round w3-image w3-opacity-min" width="600" height="750">
  </div>

  <div class="w3-col m6 w3-padding-large w3-hide-small">
    <img src="/TestingEdit.png" class="w3-round w3-image w3-opacity-min" width="600" height="750">
  </div>
    
  <div class="w3-col m6 w3-padding-large">
    <p class="w3-large">The Premier League id was 2411, so after my initial filter my data set looked as shown as the left; however, this still had a lot of information that I didn't need to answer my questions so the next step was to prune the remaining data.</p>
    <p class="w3-large">The lower portion of the image shows the final pruned data set to where I can start analyzing the values I need to answer my questions. Each set of data uses two columns to initially categorize as the team in team1 is the home team and team2 is the away team, this pertains to all columns. </p>
  </div>

  <div class="w3-row w3-padding-large"> 
    <p class="w3-large">The next part involved making an entirely new sheet with a line for each team. Each team would have spi1 and sppi2 value, proj_score1 and proj_score2 value, score1 and score2 value. It would also include a count for first column and second columns, we need this for averages. From my pruned data set I will then sift through and collect data for each column associated with each team.</p>
  </div>
    
  <center><img src="/TableLayout.png" class="w3-round w3-image w3-opacity-min" width="600" height="750"></center>

  <div>
    <p class="w3-large">The breakdowns of what each item stands for is shown below, as stated before the reason there are two of each column is for home and away games. We will consolidate this eventually as we have no need to test home versus away for the questions.</p>
    <p class="w3-large"><b>Soccer Power Index (spi1/spi2):</b> Per five thirty eight: "The forecasts are based on a substantially revised version of ESPN’s Soccer Power Index (SPI), a rating system originally devised by FiveThirtyEight editor-in-chief Nate Silver in 2009 for rating international soccer teams."</p>
    <p class="w3-large"><b>Projected Score (proj_score1/proj_score2):</b> The projected score is what the system estimates each team will score in any given game.</p>
    <p class="w3-large"><b>Actual Score (score1/score2):</b> This is the actual score of the game in question.</p>
    <p class="w3-large"><b>Count (count1/count2):</b> This is simply the number of times the team appeared in the data sets. count1 corresponds to the time a team appears in team1 and therefore relates to spi1, proj_score1 and score1 while count2 corresponds to how many times a team appears in team2 and therefore relates to spi2, proj_score2 and score2. An important test you can do here to insure you have correctly counted your data is that each for each team count1 plus count2 will give you a total count, then divide that by 38. Your remainder should be zero, this is because there are 38 games per season in the Premier League. If you get a number that isn't whole, there may be a mistake in your data. ((count1 + count2)%38)=0</p>
  </div>
    
  <div class="w3-row w3-padding-large"> 
    <p class="w3-large"> This next portion shows where in the filter options we simply chose team1 or team2 and then filtered by name to organize each teams stats. I'ts important to note when doing all the secondary attributes (spi2, proj_score2, score2) that you will need to carefully select each data point as its no longer in continuous order in the spreadsheet.</p>
  </div>

  <div class="w3-col m6 w3-padding-large w3-hide-small">
    <img src="/TeamOneFilter.png" class="w3-round w3-image w3-opacity-min" width="450" height="675">
  </div>

  <div class="w3-col m6 w3-padding-large w3-hide-small">
    <img src="/TeamTwoFilter.png" class="w3-round w3-image w3-opacity-min" width="600" height="750">
  </div>

  <div class="w3-row w3-padding-large"> 
    <p class="w3-large"> On the left is the final separated data set after taking all the data as previously seen. I then took this and, as seen below on the right in my final data combined the data and took the averages. To get this data I made a new sheet and simply added the values of the 1 and 2 columns and then took the average by dividing by the total count, or number of games played. The reason I did this is not every team has played the same number of seasons in the league, some have been relegated and some have come up. It was necessary to take an average to get a fair copmarisson across all teams. </p>
  </div>

  <center><img src="/FinalPrune.png" class="w3-round w3-image w3-opacity-min" width="600" height="750"><img src="/FinalDataOne.png" class="w3-round w3-image w3-opacity-min" width="300" height="375"></center>
  
  <div class="w3-col m6 w3-padding-large">
    <p class="w3-large">First was to look at Average SPI.</p>
    <p class="w3-large">The top image shows the top 5 average API over the five years in the premier league, while the bottom shows the bar chart comparison. Looking at this we can see that the top three teams fit our hypthesis there is one team missing, Leicester. It's also interesting to note how dramatically it falls off from third to fourth place.</p>
  </div>
    
  <div class="w3-col m6 w3-padding-large w3-hide-small">
    <img src="/SPITop5.png" class="w3-round w3-image w3-opacity-min" width="540" height="675">
  </div>
    
  <div class="w3-col m6 w3-padding-large w3-hide-small">
    <img src="/SPIGraph.png" class="w3-round w3-image w3-opacity-min" width="300" height="375">
  </div>

  <p>       </p>

  <div class="w3-col m6 w3-padding-large">
    <p class="w3-large">Next was to look at Project Score Average.</p>
    <p class="w3-large">The top image shows the top 5 average API over the five years in the premier league, while the bottom shows the bar chart comparison. Looking at this we can see that the top three teams fit our hypthesis there is one team missing, Leicester. It's also interesting to note how dramatically it falls off from third to fourth place.</p>
  </div>
    
  <div class="w3-col m6 w3-padding-large w3-hide-small">
    <img src="/PScoreTop5.png" class="w3-round w3-image w3-opacity-min" width="540" height="675">
  </div>
    
  <div class="w3-col m6 w3-padding-large w3-hide-small">
    <img src="/SPIGraph.png" class="w3-round w3-image w3-opacity-min" width="300" height="375">
  </div>

  <div class="w3-col m6 w3-padding-large">
    <p class="w3-large">Finally was to look at Actual Score Average.</p>
    <p class="w3-large">The top image shows the top 5 average API over the five years in the premier league, while the bottom shows the bar chart comparison. Looking at this we can see that the top three teams fit our hypthesis there is one team missing, Leicester. It's also interesting to note how dramatically it falls off from third to fourth place.</p>
  </div>
    
  <div class="w3-col m6 w3-padding-large w3-hide-small">
    <img src="/ActualScoreTop5.png" class="w3-round w3-image w3-opacity-min" width="540" height="675">
  </div>
    
  <div class="w3-col m6 w3-padding-large w3-hide-small">
    <img src="/SPIGraph.png" class="w3-round w3-image w3-opacity-min" width="300" height="375">
  </div>
  
<!-- End page content -->
</div>

<!-- Footer -->


</body>
</html>
